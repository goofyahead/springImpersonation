:icons: font 
 
:sourcedir: ../src/main/java
 
= Controller doc: 
 Autogenerated: v1.0, Tue Jan 14 15:12:08 GST 2020
:toc: 
 
== Purpose: 
 
This table should be used to check that all the controllers follow the secured approach anything marked as not filtered should be checked. It iterates through all the controllers and checks their annotations 
 
The proposed solution is to mark the input objects with `@JsonView(View.Public.class)` link:{sourcedir}/ninja/goofyahead/main/annotations/AllowImpersonation.java[Definition] on any field that should not be accepted from the front-end and should be picked up from the security contextbecause mawani accepts impersonation on some endpoints this should be added as an annotation to handle this transparently `@AllowImpersonation` at method level, therefore the check mark for AllowsImpersonation in the table. 
 
=== Impersonation annotation 
[source,java]
----
include::{sourcedir}/ninja/goofyahead/main/annotations/AllowImpersonation.java[]
----
 
=== Impersonation implementation 
[source,java]
----
include::{sourcedir}/ninja/goofyahead/main/interceptor/ImpersonateInterceptor.java[]
----
 
=== Views annotation 
[source,java]
----
include::{sourcedir}/ninja/goofyahead/main/views/View.java[]
----
 
== Tables 
 
=== companyController
 
.Table companyController controller table: 
|=== 
| Url | Method | Takes object | Impersonation | Is filtered 
|[/company/{id}]|[GET]|icon:exclamation-circle[role="red"]|icon:check[role="green"]|icon:exclamation-circle[role="red"]
|[/company]|[POST]|icon:check[role="green"]|icon:exclamation-circle[role="red"]|icon:check[role="green"]
|=== 
 
=== userController
 
.Table userController controller table: 
|=== 
| Url | Method | Takes object | Impersonation | Is filtered 
|[/user/{id}]|[GET]|icon:exclamation-circle[role="red"]|icon:check[role="green"]|icon:exclamation-circle[role="red"]
|[/user]|[POST]|icon:check[role="green"]|icon:exclamation-circle[role="red"]|icon:check[role="green"]
|=== 
 
=== basicErrorController
 
.Table basicErrorController controller table: 
|=== 
| Url | Method | Takes object | Impersonation | Is filtered 
|[/error]|[]|icon:exclamation-circle[role="red"]|icon:exclamation-circle[role="red"]|icon:exclamation-circle[role="red"]
|[/error]|[]|icon:exclamation-circle[role="red"]|icon:exclamation-circle[role="red"]|icon:exclamation-circle[role="red"]
|=== 
 
== Links 
 
* https://www.baeldung.com/spring-mvc-handlerinterceptor[Handler Interceptor Doc] 
* https://www.baeldung.com/jackson-json-view-annotation[Jackson View Doc]
